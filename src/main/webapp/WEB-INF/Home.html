<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1" />
<title>Home</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../CSS/mystyle.css" th:href="@{/css/mystyle.css}" />
</head>
<body>
	<div align="right">
		<a th:href="@{/Logout}">Logout</a>
	</div>
	<h1>Welcome to the Gamified Marketing Application</h1>
	<p th:text="${'Nice to see you again ' + session.user.name + ' ' + session.user.surname}"></p>
	<p class="message" th:if="${message != null}" th:text="${message}"></p>
	<form action="#" th:action="@{/Leaderboard}" method="GET">
		<input type="submit" value="Leaderboard" />
	</form>
	<th:block th:if="${today == true}">
		<p class="message" th:if="${hasSubmitted == true}">Already submitted today!</p>
		<form th:if="${hasSubmitted == false}" action="#" th:action="@{/TodaysQuestionnaire}" method="GET">
			<input type="submit" value="Answer Questionnaire" />
		</form>
		<hr>
		<h2>Today's questionnaire:</h2>
		<h2 th:text="${title}"></h2>
		<img th:src="*{'data:image/png;base64,'+image}" alt="product image" /><br>
		<table class="bordered">
			<tr>
				<th></th>
				<th th:each="q : ${answers.getAllQuestionId()}" th:text="${answers.getQuestionText(q)}"></th>
			</tr>
			<tr th:each="u : ${answers.getAllUsers()}">
				<th th:text="${u}"></th>
				<td th:each="q : ${answers.getAllQuestionId()}" th:text="${answers.getAnswer(u, q)}"></td>
			</tr>
		</table>
	</th:block>
	<p class="message" th:if="${today == false}">No questionnaire for today, try later!</p>
</body>
</html>